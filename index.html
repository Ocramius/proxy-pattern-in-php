<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="utf-8">

    <title>OOP Proxies in PHP</title>

    <meta name="description" content="The Proxy OOP Pattern in PHP: how to use it and how to know when we need it">
    <meta name="author" content="Marco Pivetta">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="stylesheet" href="reveal.js/css/reveal.min.css">
    <link rel="stylesheet" href="reveal.js/css/theme/default.css" id="theme">
    <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
    <script>
        document.write(
                '<link rel="stylesheet" href="reveal.js/css/print/'
                        + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' )
                        + '.css" type="text/css" media="print">'
        );
    </script>
    <!--[if lt IE 9]><script src="reveal.js/lib/js/html5shiv.js"></script><![endif]-->

    <style type="text/css">
        .reveal section img {
            border: 0;
            background: none;
            box-shadow: 0 0 #000;
        }

        .php-color {
            color: #6C7EB7;
        }

        .proxy-color {
            color: #FC6A31;
        }

        .zf-color {
            color: #68B604;
        }

        .doctrine-color {
            color: #FC6A31;
        }

        .soothe .reveal .state-background {
            background: rgba(255, 255, 255, 0.6);
        }

        .pros-line:before, .cons-line:before {
            content: ' ';
            position: absolute;
            width: 0;
            height: 0;
            left: -40px;
            border: 12px solid transparent;
        }

        .pros-line:before {
            border-bottom-width: 22px;
            border-bottom-color: green;
        }

        .cons-line:before {
            border-top-width: 22px;
            border-top-color: red;
        }
    </style>
</head>

<body>
<div class="reveal">
<div class="slides">

<section>
    <h1>
        The <span class="proxy-color">Proxy Pattern</span>
        <br/>
        in <span class="php-color" style="font-size: 120%;">PHP</span>
    </h1>
</section>
<section>
    <h2>
        <img src="assets/img/ocramius.gif" alt="Marco Pivetta" style="width: 60px; margin: 0;"/>
        <a href="http://ocramius.github.com/" target="_blank">Marco Pivetta</a>
    </h2>
    <p class="fragment">
        <img
            src="assets/img/doctrine.svg"
            alt="Doctrine Project" border="0"
            height="40px"
            style="margin: 0;"
        />
        <span class="doctrine-color">Doctrine</span> core team
    </p>
    <p class="fragment">
        <img
            src="assets/img/zf-logo.svg"
            alt="Zend Framework 2"
            width="60px"
            style="margin: 0;"
        />
        <span class="zf-color">Zf2</span> contributor
    </p>
    <p class="fragment">
        <img
            src="assets/img/gh.svg"
            alt="Ocramius on Github"
            height="40px"
            style="margin: 0;"
        />
        <a href="http://github.com/Ocramius" target="_blank">Ocramius</a>
    </p>
    <p class="fragment">
        <img
            src="assets/img/twitter.svg"
            alt="Ocramius on Twitter"
            height="30px"
            style="margin: 0;"
        />
        <a href="http://twitter.com/Ocramius" target="_blank">Ocramius</a>
    </p>
</section>

<section>
    <section>
        <h2>Current projects</h2>
        <p>
            <a target="_blank" href="https://github.com/Ocramius/ProxyManager">ProxyManager</a>,
            <a target="_blank" href="https://github.com/bjyoungblood/BjyAuthorize">BjyAuthorize</a>,
            <a target="_blank" href="https://github.com/RWOverdijk/AssetManager">AssetManager</a>,
            <a target="_blank" href="https://github.com/BinaryKitten/ZeffMu">ZeffMu</a>,
            <a target="_blank" href="https://github.com/zf-fr/ZfrRest">ZfrRest</a>,
            <a target="_blank" href="https://github.com/Ocramius/OcraDiCompiler">OcraDiCompiler</a>,
            <a target="_blank" href="https://github.com/Ocramius/OcraServiceManager">OcraServiceManager</a>,
            <a target="_blank" href="https://github.com/Ocramius/OcraCachedViewResolver">OcraCachedViewResolver</a>,
            <a target="_blank" href="https://github.com/doctrine/DoctrineModule">DoctrineModule</a>,
            <a target="_blank" href="https://github.com/doctrine/DoctrineORMModule">DoctrineORMModule</a>,
            <a target="_blank" href="https://github.com/doctrine/DoctrineMongoODMModule">DoctrineMongoODMModule</a>,
            <a target="_blank" href="https://github.com/Ocramius/VersionEyeModule">VersionEyeModule</a>
        </p>
    </section>
</section>

<section>
    <h2>What is a <span class="proxy-color">Proxy</span>?</h2>
    <p class="fragment">A proxy is a class functioning as an interface to something else</p>

    <p class="fragment" style="font-size: small;">(carefully pasted from wikipedia)</p>
</section>

<section>
    <h2>A <span class="proxy-color">Proxy</span> implements a <span class="php-color">Subject</span>'s interface</h2>

    <p class="fragment">
        We can use the <span class="proxy-color">proxy</span> in place of the
        <span class="zf-color">subject</span> thanks to the
        <a href="http://en.wikipedia.org/wiki/Liskov_substitution_principle" target=_blank>
            <abbr title="Liskov Substitution Principle">LSP</abbr>
        </a>
    </p>
</section>

<section data-state="soothe">
    <img
        alt="A Proxy implements the same interface as of a real subject"
        src="http://yuml.me/diagram/scruffy;dir:TB;/class/[<<SubjectInterface>>]^-.-implements [RealSubject{bg:green}], [<<SubjectInterface>>]^-.-implements [SubjectProxy{bg:orange}].svg"
    />
</section>

<section data-state="soothe">
    <h2><span class="zf-color">Client</span> consumes <span class="php-color">SubjectInterface</span></h2>

    <img
        alt="A Client uses the SubjectInterface"
        src="http://yuml.me/diagram/scruffy;dir:TB;/class/[<<SubjectInterface>>]<-.-consumes [Client{bg:green}].svg"
    />
</section>

<section data-state="soothe">
    <h2><span class="zf-color">Client</span> consumes <span class="php-color">RealSubject</span></h2>

    <img
        alt="A Client uses the RealSubject"
        src="http://yuml.me/diagram/scruffy;dir:TB;/class/[<<SubjectInterface>>]^-.-implements [RealSubject{bg:green}], [<<SubjectInterface>>]^-.-implements [SubjectProxy{bg:orange}], [RealSubject{bg:blue}]<-.-consumes [Client{bg:green}].svg"
    />
</section>

<section data-state="soothe">
    <h2><span class="zf-color">Client</span> consumes <span class="proxy-color">SubjectProxy</span></h2>

    <img
        alt="A Client uses the SubjectProxy"
        src="http://yuml.me/diagram/scruffy;dir:TB;/class/[<<SubjectInterface>>]^-.-implements [RealSubject{bg:green}], [<<SubjectInterface>>]^-.-implements [SubjectProxy{bg:orange}], [SubjectProxy{bg:orange}]<-.-consumes [Client{bg:green}].svg"
    />
</section>

<section>
    <h2>In <span class="php-color">PHP</span>, things can be simplified</h2>

    <p class="fragment">
        Since we don't always work with interfaces, we can have
        <span class="proxy-color">SubjectProxy</span> extending <span class="php-color">RealSubject</span>
    </p>

    <pre class="fragment"><code contenteditable>class SubjectProxy extends RealSubject { /* ... */ }</code></pre>

    <p class="fragment">
        <img
            alt="ProxySubject extends the RealSubject"
            src="http://yuml.me/diagram/scruffy;dir:TB;/class/[RealSubject{bg:green}]^-extends [SubjectProxy{bg:orange}].svg"
        />
    </p>

    <p class="fragment" style="font-size: small;">Though you should use interfaces!</p>
</section>

<section>
    <h2>What do <span class="proxy-color">Proxies</span> do?</h2>
</section>

<section>
    <h2>From the <abbr title="Gang of Four">GoF</abbr>:</h2>
    <p class="fragment">
        <span class="proxy-color">Remote proxy</span>
        <br/>
        Provides a local representative for an object in a different address space
    </p>
    <p class="fragment">
        <span class="proxy-color">Virtual proxy</span>
        <br/>
        Lazily instantiates expensive objects
    </p>
    <p class="fragment">
        <span class="proxy-color">Protection proxy</span>
        <br/>
        Limits access to the real subject
    </p>
    <p class="fragment">
        <span class="proxy-color">Smart reference</span>
        <br/>
        Performs additional actions when the subject is accessed
    </p>
</section>

<section>
    <h2><span class="proxy-color">Remote Proxy</span></h2>
    <img
        class="fragment"
        alt="Remote Object Proxy UML"
        src="http://yuml.me/diagram/plain;dir:LR;/class/[RealSubject{bg:green}]<-.- uses[AdapterServer{bg:blue}],[AdapterServer{bg:blue}]intertubes-intertubes[AdapterClient{bg:blue}],[AdapterClient{bg:blue}]<-.- uses[SubjectProxy{bg:orange}].svg"
    />
    <p class="fragment">
        Every call to the <span class="proxy-color">SubjectProxy</span> would go directly
        through the across the <span class="php-color">AdapterClient</span>
        to the <span class="zf-color">RealSubject</span>
    </p>
</section>

<section>
    <h2><span class="proxy-color">Remote Object</span> example (1/3)</h2>
    <pre><code contenteditable>class Tweet {
    protected $data;

    public function __construct(array $data) {
        $this->data = $data;
    }

    public function getText() {
        return $this->data['text'];
    }
}</code></pre>
</section>

<section>
    <h2><span class="proxy-color">remote object</span> example (2/3)</h2>
    <pre><code contenteditable>class TweetProxy extends Tweet {
    protected $api;
    protected $id;

    public function __construct(TwitterApi $api, $id) {
        $this->api = $api;
        $this->id  = $id;
    }

    public function getText() {
        return $this->api->getTweetText($this->id);
    }
}</code></pre>
</section>

<section>
    <h2><span class="proxy-color">remote object</span> example (3/3)</h2>
<pre><code contenteditable>$tweet = new Tweet(array('text' => 'Proxies in PHP!'));
var_dump($tweet->getText()); // 'Proxies in PHP!'

$api = new TwitterApi(/* yadda */); // buzz, guzzle, zf
$remoteTweet = new TweetProxy($api, 280643708968386560);
var_dump($remoteTweet->getText()); // 'Tweet text!'

$remoteTweet = new TweetProxy($api, 280643708968386561);
var_dump($remoteTweet->getText()); // 'Another text!'</code></pre>
</section>

<section>
    <h2><span class="proxy-color">remote object</span> pros/cons</h2>
    <p class="fragment pros-line">Share objects across multiple systems</p>
    <p class="fragment pros-line">No local memory usage</p>
    <p class="fragment pros-line">Can act as an adapter for a completely different remote object</p>
    <p class="fragment cons-line">Complex setup</p>
    <p class="fragment cons-line">Fails on adapter failure</p>
    <p class="fragment cons-line">As slow as the protocol</p>
</section>

<section>
    <h2><span class="php-color">Lazy Loading</span></h2>

    <p class="fragment">
        Lazy loading comes into play when we have to retrieve very expensive objects, like:
    </p>
    <ul>
        <li class="fragment">DB Connections</li>
        <li class="fragment">File Contents (and I/O in general)</li>
        <li class="fragment">Large objects (memory)</li>
        <li class="fragment">Objects with long instantiation time (hashes/parsed values/etc)</li>
    </ul>
</section>
<section>
    <h2><span class="php-color">Lazy Loading</span> example</h2>

    <pre class="fragment"><code contenteditable>class Customer {
    public function __construct(DbConnection $db, $id) {
        $this->db = $db;
        $this->id = $id;
    }

    public function getName() {
        $this->init();
        return $this->data['name'];
    }

    public function init() {
        if (!isset($this->data)) {
            $this->data = $this->db->load($this->id);
        }
    }
}</code></pre>

</section>
<section>
    <h2>Problems with <span class="php-color">Lazy Loading</span></h2>

    <p class="fragment cons-line">Instantiation logic mixed with class logic</p>
    <p class="fragment cons-line">Dependency to loader objects in the object</p>
    <p class="fragment cons-line">Not really optimized, and unreadable if optimized</p>
    <p class="fragment cons-line">Harder to test</p>
</section>
<section>
    <h2><span class="php-color">Lazy loading</span> via <span class="proxy-color">Proxies</span></h2>

    <p class="fragment">
        <span class="proxy-color">Virtual Proxy</span>
        <br/>
        An object that looks like the <span class="php-color">RealSubject</span>, but just holds a lazy reference to it.
    </p>
    <p class="fragment">
        <span class="proxy-color">Ghost Object</span>
        <br/>
        An object that looks like the <span class="php-color">RealSubject</span>, but with all properties not being
        set and being lazy loaded.
    </p>
    <p class="fragment">
        (not a proxy) <span class="php-color">Value holder</span>
        <br/>
        An abstraction of <span class="php-color">Lazy Loading</span>. It usually is an object that returns the
        lazy-loaded instance on demand.
    </p>
</section>

<section>
    <h2><span class="proxy-color">Virtual Proxy</span></h2>
</section>

<section>
    <h2><span class="proxy-color">Virtual Proxy</span> example (1/3)</h2>
    <pre><code contenteditable>class Image {
    protected $image;
    public function __construct($path) {
        $this->image = imagecreatefromjpeg($path);
    }

    public function getSize() {
        return array(
            imagesx($this->image),
            imagesy($this->image)
        );
    }
}</code></pre>
</section>

<section>
    <h2><span class="proxy-color">Virtual Proxy</span> example (2/3)</h2>
<pre><code contenteditable>class ImageVirtualProxy extends Image {
    protected $wrapped;
    public function __construct($path) {
        $this->path = $path;
    }

    public function getSize() {
        $this->init();
        return $this->wrapped->getSize();
    }

    private function init() {
        if ( ! $this->wrapped) {
            $this->wrapped = new Image($this->path);
        }
    }
}</code></pre>
</section>

<section>
    <h2><span class="proxy-color">Value Holder</span> example (3/3)</h2>
<pre><code contenteditable>$img1 = new ImageProxy('/path/to/image1.jpg');
var_dump(memory_get_usage()); // ~200Kb
$img2 = new ImageProxy('/path/to/image2.jpg');
var_dump(memory_get_usage()); // ~200Kb
$img3 = new ImageProxy('/path/to/image3.jpg');
var_dump(memory_get_usage()); // ~200Kb

$size1 = $img1->getSize();
var_dump(memory_get_usage()); // ~4Mb
$size2 = $img2->getSize();
var_dump(memory_get_usage()); // ~8Mb</code></pre>
</section>

<section>
    <h2><span class="proxy-color">Value Holder</span> pros/cons</h2>
    <p class="fragment pros-line">Abstracts initialization logic away</p>
    <p class="fragment pros-line">Improved memory/performance impact</p>
    <p class="fragment pros-line">Low overhead</p>
    <p class="fragment pros-line">Easy to implement</p>
    <p class="fragment cons-line">Not optimal for data that is always loaded</p>
    <p class="fragment cons-line">Lazy loading means lazy failing</p>
    <p class="fragment cons-line">Actually, not the same object as <span class="php-color">RealSubject</span> (different identity)</p>
</section>

<section>
    <h2><span class="proxy-color">Ghost Object</span></h2>
    <p class="fragment">
        An object whose properties are the same of the proxied object, but <code>null</code>.
    </p>
    <p class="fragment">
        Accessing any method causes loading of the properties.
    </p>
    <p class="fragment">Useful when the identity of the object has to be preserved</p>
    <p class="fragment">
        <a class="doctrine-color" href="https://github.com/doctrine/common/tree/master/lib/Doctrine/Common/Proxy" target="_blank">Doctrine Proxies</a>
        are <a class="php-color" href="https://gist.github.com/4038004" target="_blank">generated</a> this way.
    </p>
</section>

<section>
    <h2><span class="proxy-color">Ghost Object</span> example (simplified)</h2>
<pre><code contenteditable>class ImageGhostProxy extends Image {
    protected $initialized = false;
    public function __construct($path) {
        $this->path = $path;
    }
    public function getSize() {
        $this->init();
        return parent::getSize();
    }
    private function init() {
        if ( ! $this->initialized) {
            $image             = new Image($this->path);
            $this->image       = $image->image;
            $this->initialized = true;
        }
    }
}</code></pre>
</section>

<section>
    <h2><span class="proxy-color">Ghost Object</span> pros/cons</h2>
    <p class="fragment pros-line">Same identity as <span class="php-color">RealSubject</span></p>
    <p class="fragment pros-line">Abstracts initialization logic away</p>
    <p class="fragment pros-line">Improved memory/performance impact</p>
    <p class="fragment pros-line">Low overhead</p>
    <p class="fragment cons-line">Harder to implement</p>
    <p class="fragment cons-line">May require reflection to access parent class's properties</p>
    <p class="fragment cons-line">Not optimal for data that is always loaded</p>
    <p class="fragment cons-line">Lazy loading means lazy failing</p>
</section>

<section>
    <h2>A complete <span class="proxy-color">Ghost Object</span> implementation</h2>
    <p>
        A complete implementation example at
        <a href="https://gist.github.com/4038004" target="_blank">https://gist.github.com/4038004</a>
    </p>
</section>

<!-- @todo re-introduce example with weakref? -->
<!-- @todo re-introduce example with null object? -->

<section>
    <h2><span class="proxy-color">Protection proxy</span></h2>
    <p>
        A <span class="proxy-color">Protection Proxy</span> comes into play when you want to transparently
        limit access to an API through a set of rules (ACL/limits/custom logic).
    </p>
    <p class="fragment">It actually is a decorator to the proxied <span class="php-color">RealSubject</span>.</p>
</section>

<section>
    <h2><span class="proxy-color">Protection proxy</span> (1/2)</h2>
    <pre><code contenteditable>class APIProtectionProxy extends API {
    protected $count = 0;
    public function __construct(API $api, $limit) {
        $this->api = $api; $this->limit = $limit;
    }

    public function doStuff() {
        $this->count();
        return $this->api->doStuff();
    }

    private function count() {
        if (++$this->count > $this->limit) {
            throw new RemoteApiLimit('STAHP!');
        }
    }
}</code></pre>
</section>

<section>
    <h2><span class="proxy-color">Protection proxy</span> (2/2)</h2>
    <pre><code contenteditable>$api = new APIProtectionProxy(new API(/* ... */), 50);

while (true) {
    $api->doStuff(); // RemoteApiLimit exception!
}</code></pre>
</section>

<section>
    <h2><span class="proxy-color">Protection Proxy</span> pros/cons</h2>
    <p class="fragment pros-line">Limiting access to an API does not require changes in the API</p>
    <p class="fragment cons-line">Modifies proxied object behavior</p>
</section>

<section>
    <h2><span class="proxy-color">Smart reference</span></h2>
    <p class="fragment">
        A <span class="proxy-color">Smart reference</span> executes additional operations when the
        <span class="">RealSubject</span> is accessed
    </p>
    <p class="fragment">
        Smart reference is actually <span class="php-color">DecoratorPattern</span>
    </p>
    <p class="fragment">Good for <span class="php-color">AOP</span></p>
</section>
<section>
    <h2><span class="proxy-color">Smart reference</span> use cases</h2>
    <ul>
        <li class="fragment">Caching slow method execution</li>
        <li class="fragment">Logging</li>
        <li class="fragment">Event triggering</li>
        <li class="fragment"><abbr title="Aspect Oriented Programming">AOP</abbr> in general</li>
    </ul>
</section>

<section>
    <h2><span class="proxy-color">Smart reference</span> example</h2>
    <p class="fragment">Let's cache a complex/slow method call</p>
    <pre class="fragment"><code contenteditable>    /**
     * @AOP\Cache(ttl=3600)
     */
    public function doHeavyStuff() {
        // [...]
    }</code></pre>
    <p class="fragment">Could become:</p>
    <pre class="fragment"><code contenteditable>class APICachingProxy extends API {
    public function __construct(API $api, Cache $cache) {
        $this->api = $api; $this->cache = $cache;
    }

    public function doHeavyStuff() {
        if ($cached = $this->cache->get('doHeavyStuff')) {
            return $cached;
        }

        $result = $this->api->doHeavyStuff();

        $this->cache->set('doHeavyStuff', $result, 3600);

        return $result;
    }
}</code></pre>
</section>

<section>
    <h2>Implementation details in <span class="php-color">PHP</span></h2>
    <p class="fragment">What do we need to build a <span class="proxy-color">proxy</span>?</p>
</section>

<section>
    <h2>Implementing a (generic) <span class="proxy-color">Proxy</span></h2>
    <ol>
        <li class="fragment">The Proxy class MUST extend the proxied class</li>
        <li class="fragment">Each of the proxied methods SHOULD be rewritten</li>
        <li class="fragment">Access to public properties SHOULD be intercepted</li>
    </ol>
</section>

<section>
    <h2><span class="php-color">Public properties</span> <span class="proxy-color">proxying</span></h2>
    <pre class="fragment"><code contenteditable>class Customer {
    public $name;
    public $surname;
}</code></pre>

<pre class="fragment"><code contenteditable>class CustomerProxy extends Customer {
    public function __construct(Customer $customer) {
        unset($this->name, $this->surname);
        $this->customer = $customer;
    }

    public function __set($name, $value) {
        $this->customer->$name = $value;
    }

    public function __get($name) {
        return $this->customer->$name;
    }
    // __isset, __unset, __clone, __sleep, __wakeup (or serialize/unserialize)
}</code></pre>
</section>

<section>
    <h2>Introducing <span class="proxy-color">ProxyManager</span></h2>
    <p class="fragment">
        <img
            src="assets/img/gh.svg"
            alt="Ocramius on Github"
            height="40px"
            style="margin: 0;"
        />
        <a href="https://github.com/Ocramius/ProxyManager" target="_blank">https://github.com/Ocramius/ProxyManager</a>
    </p>
    <p class="fragment">A library to avoid bringing out the generated garbage yourself</p>
    <p class="fragment">Handles various types of <span class="proxy-color">proxy</span></p>
    <p class="fragment">
        Currently <span class="proxy-color">Virtual Proxy</span> and <span class="proxy-color">Smart Reference</span>
    </p>
</section>

<section>
    <h2><span class="php-color">Lazy loading</span> with the <span class="proxy-color">ProxyManager</span></h2>
    <pre class="fragment"><code contenteditable>namespace My\Slow;

class Foo
{
    public function __construct()
    {
        sleep(10);
    }

    public function doFoo()
    {
        echo 'foo!';
    }
}</code></pre>

</section>

<section>
    <h2><span class="php-color">Lazy loading</span> with the <span class="proxy-color">ProxyManager</span></h2>
    <pre class="fragment"><code contenteditable>require_once 'vendor/autoload.php';
use ProxyManager\Factory\LazyLoadingValueHolderFactory;

$c = new ProxyManager\Configuration();
$f = new LazyLoadingValueHolderFactory($c);

$proxy = $f->createProxy(
    'My\Slow\Foo',
    function (& $wrappedObject, $proxy) {
        $wrappedObject = new My\Slow\Foo();
        $proxy->setProxyInitializer(null);
        return true;
    }
);

$proxy->doFoo();</code></pre>
</section>

<section>
    <h2><span class="php-color">Smart Reference</span> with the <span class="proxy-color">ProxyManager</span></h2>
    <pre class="fragment"><code contenteditable>require_once 'vendor/autoload.php';
use ProxyManager\Factory\AccessInterceptorValueHolderFactory;

$c = new ProxyManager\Configuration();
$f = new AccessInterceptorValueHolderFactory($config);
$db = $factory->createProxy(
    new \My\Db\Connection(),
    array('query' => function () {
        echo "Query being executed!\n";
    }),
    array('query' => function () {
        echo "Query completed!\n";
    })
);

$db->query();</code></pre>
    <p class="fragment">Yes, I'm no good at naming classes</p>
</section>

<!-- @todo add initializer example? -->

<section>
    <h2>Code generation</h2>
    <p>
        See
        <a href="https://github.com/doctrine/common/blob/master/lib/Doctrine/Common/Proxy/ProxyGenerator.php">
            Doctrine's Proxy Generator
        </a>
        and
        <a href="https://github.com/ocramius/ProxyManager">ProxyManager</a>
    </p>
</section>

<section>
    <h2>Some useful <span class="php-color">libraries</span></h2>
</section>

<section>
    <h2>Flow3</h2>
    <p><a href="http://flow.typo3.org/" target="_blank">http://flow.typo3.org</a></p>
    <p class="fragment">
        First implementation of <span class="php-color">annotations</span> in PHP
        <span style="font-size: small;">(<abbr title="as far as I know">afaik</abbr>)</span>
    </p>
    <p class="fragment">
        Usage of <span class="proxy-color">proxies</span> in the <abbr title="Dependency Injection Container">DIC</abbr>
    </p>
</section>
<section>
    <h2>CG-Library</h2>
    <p>
        <img
            src="assets/img/gh.svg"
            alt="Ocramius on Github"
            height="40px"
            style="margin: 0;"
        />
        <a href="https://github.com/schmittjoh/cg-library/" target="_blank">schmittjoh/cg-library</a>
    </p>
    <p class="fragment">Utilities if you want to write your own <span class="proxy-color">proxy generator</span></p>
</section>
<section>
    <h2>GO AOP PHP</h2>
    <p>
        <img
            src="assets/img/gh.svg"
            alt="Ocramius on Github"
            height="40px"
            style="margin: 0;"
        />
        <a href="https://github.com/lisachenko/go-aop-php/" target="_blank">lisachenko/go-aop-php</a>
    </p>
    <p class="fragment">
        Uses <span class="proxy-color">proxies</span> for <span class="php-color">AOP</span> purposes
    </p>
    <p class="fragment">
        Very interesting usage of <span class="php-color">autoloaders</span>!
    </p>
</section>

<section>
    <h2>Questions?</h2>
</section>

<section>
    <h2>Thank you!</h2>
    <p>
        Fork the slides!
        <br/>
        <img
            src="assets/img/gh.svg"
            alt="Ocramius on Github"
            height="40px"
            style="margin: 0;"
        />
        <a href="https://github.com/Ocramius/proxy-pattern-in-php" target="_blank">
            Ocramius/proxy-pattern-in-php
        </a>
    </p>
    <p>
        <img
            src="assets/img/gh.svg"
            alt="Ocramius on Github"
            height="40px"
            style="margin: 0;"
        />
        <a href="http://github.com/Ocramius" target="_blank">Ocramius</a>
    </p>
    <p>
        <img
            src="assets/img/twitter.svg"
            alt="Ocramius on Twitter"
            height="30px"
            style="margin: 0;"
        />
        <a href="http://twitter.com/Ocramius" target="_blank">Ocramius</a>
    </p>
</section>

</div>
</div>

<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.min.js"></script>
<script>

    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'page', // default/cube/page/concave/zoom/linear/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
            { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: 'reveal.js/plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
            { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
            // { src: 'reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
    });

</script>
<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15310667-1']);
    _gaq.push(['_setDomainName', 'marco-pivetta.com']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>

</body>
</html>
